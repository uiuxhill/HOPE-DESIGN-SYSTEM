# V1.4.0 Foundations Tokens

Tổng hợp các thay đổi & phát hành mới trong hôm nay cho hệ thống Foundations Tokens (Spacing + Dimensions).

---

## Version 1.4.0 (2026-01-22)

### Highlights

- Release **Spacing tokens**: `spacing-global` + `spacing-brand` (Token Studio importable)
- Release **Dimensions tokens**: `fontSize-global`, `lineHeight-global`, `radius-global` (2px step + zero-pad)
- Chuẩn hoá naming & file naming: `space-*` → `spacing-*`, `sizings/` → `dimensions/`
- Fix lỗi Token Studio với key có dấu `.` bằng cách dùng key dạng `0-5`, `1-5`

### Files Changed / Added

- **Added**: `tokens/spacings/spacing-global.json`
- **Added**: `tokens/spacings/spacing-brand.json`
- **Added**: `tokens/dimensions/fontSize-global.json`
- **Added**: `tokens/dimensions/lineHeight-global.json`
- **Added**: `tokens/dimensions/radius-global.json`
- **Added**: `.cursor/rules/spacing-global.mdc`
- **Added**: `.cursor/rules/spacing-brand.mdc`
- **Added**: `.cursor/rules/dimension-global.mdc`

---

## 1. Spacing Tokens (New Release)

### 1.1 Global spacing — `spacing-global`

**File:** `tokens/spacings/spacing-global.json`

- Base: **8px**
- Token format: `space{X}` (ví dụ `space025`, `space100`)
- Có special case: `space0` = `0px`
- Bổ sung size đặc biệt: `space1100` = `88px` (để hỗ trợ `p-22` / `m-22`)

### 1.2 Brand spacing aliases — `spacing-brand`

**File:** `tokens/spacings/spacing-brand.json`

- Chỉ include 2 nhóm:
  - `padding` (keys `p-*`)
  - `margin` (keys `m-*`)
- Mọi token đều **alias** về `spacing-global` thông qua reference `{space...}` (không dùng px raw).

**Token Studio key parsing fix:**
- Token Studio có thể coi dấu `.` trong key là nested path (ví dụ `p-0.5` → `p-0` + `5`).
- Vì vậy, dùng format thay thế:
  - `p-0-5` thay cho `p-0.5`
  - `p-1-5` thay cho `p-1.5`
  - tương tự cho margin: `m-0-5`, `m-1-5`

---

## 2. Dimensions Tokens (New Release)

### 2.1 Folder rename

- Đổi folder: `tokens/sizings/` → `tokens/dimensions/`

### 2.2 Global dimension tokens

**Files:**
- `tokens/dimensions/fontSize-global.json`
- `tokens/dimensions/lineHeight-global.json`
- `tokens/dimensions/radius-global.json`

**Rules:**
- Step: **2px**
- Range: **2px → 40px**
- Zero-pad cho số < 10: `02, 04, 06, 08`
- Special case: `radius999` = `999px`

---

## 3. Rules & Naming Standardization

### 3.1 Rule rename: `space-*` → `spacing-*`

- `.cursor/rules/space-global.mdc` → `.cursor/rules/spacing-global.mdc`
- `.cursor/rules/space-brand.mdc` → `.cursor/rules/spacing-brand.mdc`

### 3.2 Rule rename: `size-global` → `dimension-global`

- `.cursor/rules/size-global.mdc` → `.cursor/rules/dimension-global.mdc`

---

## 4. Breaking / Migration Notes

- Nếu bạn đang dùng token key dạng `p-0.5`, `m-1.5` trong Token Studio: đổi sang `p-0-5`, `m-1-5` để tránh lỗi nested key.
- Nếu project đang tham chiếu file cũ:
  - `tokens/spacings/space-*.json` → đổi sang `tokens/spacings/spacing-*.json`
  - `tokens/sizings/*` → đổi sang `tokens/dimensions/*`

